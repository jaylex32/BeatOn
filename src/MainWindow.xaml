<Window
    x:Class="WpfApp1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:local="clr-namespace:WpfApp1"
    Title="BeatOn"
    Height="760" Width="1100"
    MinWidth="800"
    MinHeight="660"
    UseLayoutRounding="True"
    WindowState="Normal"
    WindowStyle="ThreeDBorderWindow">
    <Window.Resources>
        <local:CountToVisibilityConverter x:Key="CountToVisibilityConverter"/>
        <DropShadowEffect
            x:Key="DropShadowEffectStyle"
            BlurRadius="5"
            Direction="0"
            Opacity="0.3"
            Color="#FF404040" />
        <DropShadowEffect x:Key="MenuDropShadow" ShadowDepth="3" Direction="270" Color="Black" Opacity="0.3" BlurRadius="5"/>
        <ItemsPanelTemplate x:Key="AlbumsPanelTemplate">
            <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
        </ItemsPanelTemplate>

        <Style x:Key="CustomContextMenuStyle" TargetType="{x:Type ContextMenu}">
            <Setter Property="Background" Value="#1E1E1E" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#333333" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="4,2"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ContextMenu}">
                        <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="4"
                        Padding="{TemplateBinding Padding}"
                        Effect="{StaticResource MenuDropShadow}">
                            <StackPanel IsItemsHost="True" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Context Menu Item Style -->
        <Style x:Key="CustomContextMenuItemStyle" TargetType="{x:Type MenuItem}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type MenuItem}">
                        <Border
                        x:Name="Bd"
                        Background="{TemplateBinding Background}"
                        CornerRadius="4"
                        Padding="{TemplateBinding Padding}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" SharedSizeGroup="Icon"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <ContentPresenter x:Name="Icon" 
                                              ContentSource="Icon" 
                                              VerticalAlignment="Center"
                                              Margin="0,0,8,0"/>
                                <ContentPresenter Grid.Column="1" 
                                              ContentSource="Header" 
                                              VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#3E3E3E" />
                                <Setter Property="Foreground" Value="White" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#666666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Download Context Menu -->
        <ContextMenu x:Key="DownloadContextMenu" Style="{StaticResource CustomContextMenuStyle}">
            <MenuItem
            Width="100"
            Click="ContextMenuDownload_Click"
            FontWeight="SemiBold"
            Header="Download"
            Style="{StaticResource CustomContextMenuItemStyle}">
                <MenuItem.Icon>
                    <Viewbox Width="16" Height="16">
                        <Path Data="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" Fill="White" />
                    </Viewbox>
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
            Width="100"
            Click="ContextMenuLink_Click"
            FontWeight="SemiBold"
            Header="Url"
            Style="{StaticResource CustomContextMenuItemStyle}">
                <MenuItem.Icon>
                    <Viewbox Width="14" Height="14">
                        <Path Data="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" Fill="White" />
                    </Viewbox>
                </MenuItem.Icon>
            </MenuItem>
        </ContextMenu>

        <!-- Top Tracks Menu Item -->
        <MenuItem
        x:Key="TopTracksMenuItem"
        Width="100"
        Click="ArtistTopTracks_Click"
        FontWeight="SemiBold"
        Header="Top Tracks"
        Style="{StaticResource CustomContextMenuItemStyle}">
            <MenuItem.Icon>
                <Viewbox Width="16" Height="16">
                    <Path Data="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6zm-2 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" Fill="White" />
                </Viewbox>
            </MenuItem.Icon>
        </MenuItem>

        <!-- Similar Artists Menu Item -->
        <MenuItem
        x:Key="similarArtistsMenuItem"
        Width="100"
        Click="SimilarArtists_Click"
        FontWeight="SemiBold"
        Header="Similar Artists"
        Style="{StaticResource CustomContextMenuItemStyle}">
            <MenuItem.Icon>
                <Viewbox Width="16" Height="16">
                    <Path Data="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" Fill="White" />
                </Viewbox>
            </MenuItem.Icon>
        </MenuItem>

        <!-- Artist Radio Menu Item -->
        <MenuItem
        x:Key="ArtistRadioItem"
        Width="100"
        Click="ArtistRadio_Click"
        FontWeight="SemiBold"
        Header="Artist Radio"
        Style="{StaticResource CustomContextMenuItemStyle}">
            <MenuItem.Icon>
                <Viewbox Width="16" Height="16">
                    <Path Data="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z" Fill="White" />
                </Viewbox>
            </MenuItem.Icon>
        </MenuItem>

        <Style x:Key="ModernFlatTextBox" TargetType="{x:Type TextBox}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="#FF333333" />
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="#FFCCCCCC" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="25,5,10,5" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3">
                            <ScrollViewer x:Name="PART_ContentHost" Padding="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#FF7DA7D9" />
                                <!--  Highlight color when focused  -->
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernRadioButtonStyle" TargetType="RadioButton">
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#4C4C4C"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="5" Padding="8,4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="White"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#FF1B1A1A"/>
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3E3E42"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#007ACC"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#005A9E"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#003E6E"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FlatActionButton" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="#FF606060" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="White" />
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

       
        <Style x:Key="DownloadFlatActionButton" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="#FF606060" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path x:Name="Icon" Data="M7.999 1C7.447 1 7 1.447 7 2V10.586L4.707 8.293C4.316 7.902 3.683 7.902 3.293 8.293C2.902 8.683 2.902 9.316 3.293 9.707L7.293 13.707C7.488 13.902 7.744 14 8 14C8.256 14 8.512 13.902 8.707 13.707L12.707 9.707C13.098 9.316 13.098 8.683 12.707 8.293C12.316 7.902 11.683 7.902 11.293 8.293L9 10.586V2C9 1.447 8.553 1 8 1ZM1 14C0.447 14 0 14.447 0 15C0 15.553 0.447 16 1 16H15C15.553 16 16 15.553 16 15C16 14.447 15.553 14 15 14H1Z" Fill="White" Width="16" Height="16" />
                                <TextBlock x:Name="ButtonText" Text="{TemplateBinding Content}" Margin="5,0,0,0" VerticalAlignment="Center" />
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="White" />
                                <Setter Property="Foreground" Value="Black" />
                                <Setter TargetName="Icon" Property="Fill" Value="Black" />
                                <Setter TargetName="ButtonText" Property="Foreground" Value="Black" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    
        <Style x:Key="PreviewFlatActionButton" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="#FF606060" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path x:Name="Icon" Data="M5 3.5L14.5 8L5 12.5V3.5Z" Fill="White" Width="16" Height="16" />
                                <TextBlock x:Name="ButtonText" Text="{TemplateBinding Content}" Margin="5,0,0,0" VerticalAlignment="Center" />
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="White" />
                                <Setter Property="Foreground" Value="Black" />
                                <Setter TargetName="Icon" Property="Fill" Value="Black" />
                                <Setter TargetName="ButtonText" Property="Foreground" Value="Black" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="styleTabControlDefault" TargetType="{x:Type TabControl}">
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <!--  Tab Panel for Headers  -->
                            <TabPanel
                                Grid.Row="0"
                                Panel.ZIndex="1"
                                Background="Transparent"
                                IsItemsHost="True" />

                            <!--  Content Area  -->
                            <Border
                                Grid.Row="1"
                                Background="White"
                                BorderBrush="#606060"
                                BorderThickness="1"
                                CornerRadius="3">
                                <!--  Rounded corners applied here  -->
                                <ContentPresenter ContentSource="SelectedContent" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="substyleTabControlDefault" TargetType="{x:Type TabControl}">
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <!--  Tab Panel for Headers  -->
                            <TabPanel
                                Grid.Row="0"
                                Panel.ZIndex="1"
                                Background="Transparent"
                                IsItemsHost="True" />

                            <!--  Content Area  -->
                            <Border
                                Grid.Row="1"
                                Background="Black"
                                BorderBrush="#606060"
                                BorderThickness="1"
                                CornerRadius="3">
                                <!--  Rounded corners applied here  -->
                                <ContentPresenter ContentSource="SelectedContent" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="styleListBoxDefault" TargetType="{x:Type ListBox}">
            <Setter Property="BorderBrush" Value="#606060" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Background" Value="White" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBox}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3">
                            <!--  Rounded corners applied here  -->
                            <ScrollViewer Padding="{TemplateBinding Padding}">
                                <ItemsPresenter />
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="styleListBoxItem" TargetType="ListBoxItem">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border
                            x:Name="Bd"
                            Padding="2"
                            Background="{TemplateBinding Background}"
                            SnapsToDevicePixels="true">
                            <ContentPresenter
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#E5E5E5" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#D3D3D3" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
       
        
        <Style x:Key="ModernSearchButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF5B5B5B" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#7F808080" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#7F838387" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>        
        
      
        <Style x:Key="SearchBoxStyle" TargetType="{x:Type TextBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Border
                            BorderBrush="Black"
                            BorderThickness="1"
                            CornerRadius="5">
                            <Grid>
                                <TextBox
                                    Padding="5"
                                    Background="White"
                                    BorderThickness="0"
                                    Text="{TemplateBinding Text}" />
                                <Button
                                    Width="30"
                                    Margin="0,2,5,2"
                                    HorizontalAlignment="Right"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    Content="🔍"
                                    Cursor="Hand" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
      
        <LinearGradientBrush x:Key="gradientBrushSegmentedTabItem" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="#FF9E9E9E" />
            <GradientStop Offset="1" Color="#FF151515" />
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="gradientBrushSegmentedActiveTabItem" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="#FF2B2B2B" />
            <GradientStop Offset="1" Color="#FF1B1A19" />
        </LinearGradientBrush>
        <Style x:Key="styleTabItemDefault" TargetType="{x:Type TabItem}">
            <Setter Property="Foreground" Value="#757575" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="FontFamily" Value="Segoe UI" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Grid>
                            <Border
                                x:Name="border"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                BorderThickness="0,0,0,3"
                                CornerRadius="3">
                                <!--  Rounded corners added here  -->
                                <ContentPresenter
                                    x:Name="contentPresenter"
                                    Margin="10,3,10,3"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    ContentSource="Header" />
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#E5E5E5" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFFFFF" />
                                <Setter TargetName="border" Property="BorderBrush" Value="#606060" />
                                <Setter Property="Foreground" Value="#303030" />
                                <Setter Property="FontWeight" Value="Bold" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#BDBDBD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TabButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="#FF606060" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="#FF808080" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="ButtonBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Effect="{StaticResource DropShadowEffectStyle}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#FF787878" />
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF9A9A9A" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF707070" />
                                <Setter TargetName="ButtonBorder" Property="Background" Value="White" />
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TabButtonStyle2" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="Black" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush" Value="#FF808080" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="ButtonBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Effect="{StaticResource DropShadowEffectStyle}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#FF787878" />
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF9A9A9A" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF707070" />
                                <Setter TargetName="ButtonBorder" Property="Background" Value="White" />
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="{x:Type ToggleButton}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="20" />
                </Grid.ColumnDefinitions>
                <Border
                    x:Name="Border"
                    Grid.ColumnSpan="2"
                    Background="#FF2B2B2B"
                    BorderThickness="1"
                    CornerRadius="5" />
                <Border
                    Grid.Column="0"
                    Margin="1"
                    Background="#FF1B1A19"
                    BorderThickness="0,0,1,0"
                    CornerRadius="5,0,0,5" />
                <Path
                    x:Name="Arrow"
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Data="M 0 0 L 4 4 L 8 0 Z"
                    Fill="White" />
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="ToggleButton.IsMouseOver" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="#FF1B1A19" />
                </Trigger>
                <Trigger Property="ToggleButton.IsChecked" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="#FF1B1A19" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <Style x:Key="ComboBoxStyle1" TargetType="{x:Type ComboBox}">
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.CanContentScroll" Value="True" />
            <Setter Property="MinWidth" Value="120" />
            <Setter Property="MinHeight" Value="20" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid>
                            <ToggleButton
                                Name="ToggleButton"
                                Grid.Column="2"
                                ClickMode="Press"
                                Focusable="False"
                                IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                Template="{StaticResource ComboBoxToggleButton}" />
                            <ContentPresenter
                                Name="ContentSite"
                                Margin="3,3,23,3"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Content="{TemplateBinding SelectionBoxItem}"
                                ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                IsHitTestVisible="False" />
                            <TextBox
                                x:Name="PART_EditableTextBox"
                                Margin="3,3,23,3"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Focusable="True"
                                IsReadOnly="{TemplateBinding IsReadOnly}"
                                Style="{x:Null}"
                                Visibility="Hidden" />
                            <Popup
                                Name="Popup"
                                AllowsTransparency="True"
                                Focusable="False"
                                IsOpen="{TemplateBinding IsDropDownOpen}"
                                Placement="Bottom"
                                PopupAnimation="Slide">
                                <Grid
                                    Name="DropDown"
                                    MinWidth="{TemplateBinding ActualWidth}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                    SnapsToDevicePixels="True">
                                    <Border x:Name="DropDownBorder" Background="#FF2B2B2B" />
                                    <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasItems" Value="False">
                                <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#FFABADB3" />
                            </Trigger>
                            <Trigger Property="IsGrouping" Value="True">
                                <Setter Property="ScrollViewer.CanContentScroll" Value="False" />
                            </Trigger>
                            <Trigger SourceName="Popup" Property="Popup.AllowsTransparency" Value="True">
                                <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="4" />
                                <Setter TargetName="DropDownBorder" Property="Margin" Value="0,2,0,0" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid Background="Black">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Grid Grid.Column="0" Background="#FF404040">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- BeatOn Banner -->
            <Image
                Margin="0,-10,0,66"
                MaxHeight="150"
                RenderOptions.BitmapScalingMode="HighQuality"
                Source="/BeatOn_Banner-removebg.png" />

            <!-- Album Cover Image -->
            <Border Grid.Row="1"
                Width="180"
                Height="180"
                Margin="10,5"
                Background="#FF444444"
                BorderBrush="White"
                BorderThickness="2"
                CornerRadius="5">
                <Image x:Name="Albums_Covers"
                   Source="/album_coverholder.png"
                   Stretch="Uniform" />
            </Border>

            <!-- Label for Album Title -->
            <Label x:Name="Poster_Label"
               Grid.Row="2"
               Margin="5,5"
               FontSize="14"
               FontWeight="Bold"
               Foreground="White">
                <Label.Content>
                    <AccessText Text="{Binding Path=result.Qposterlabel}" TextWrapping="Wrap" />
                </Label.Content>
            </Label>

            <!-- Spacer -->
            <Grid Grid.Row="3" />

            <!-- Settings Button -->
            <Button Name="SettingsButton"
                Grid.Row="4"
                Width="48"
                Height="48"
                Margin="0,0,0,15"
                HorizontalAlignment="Center"
                Click="SettingsButton_Click">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Ellipse Fill="{TemplateBinding Background}" />
                            <Image Width="42"
                               Height="42"
                               Source="/settings.png"
                               Stretch="Uniform" />
                        </Grid>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
        <!--  Tab Control  -->
        <TabControl
            Name="MainTabControl"
            Grid.Column="1"
            Margin="10,107,10,10"
            Background="#FF121212"
            SelectionChanged="MainTabControl_SelectionChanged"
            Style="{StaticResource styleTabControlDefault}">
            <!--  Deezer Tab  -->
            <TabItem
                Name="Deezer_TabItem"
                Header="Deezer"
                Style="{StaticResource styleTabItemDefault}">
                <TabControl
                    Name="DeezerTabTabControl"
                    Background="Black"
                    Style="{StaticResource substyleTabControlDefault}">
                    <TabItem
                        x:Name="Artist_TabItem"
                        Header="Artists"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Deezer_Artist_Listbox"
                                  Grid.Row="0"
                                  ContextMenuOpening="Deezer_Artist_Listbox_ContextMenuOpening"
                                  ItemsSource="{Binding artistList}"
                                  MouseDoubleClick="Deezer_Artists_Listbox_MouseDoubleClick"
                                  SelectionChanged="Deezer_Artist_Listbox_SelectionChanged"
                                  SelectionMode="Single"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                        Background="#2D2D30" 
                                                        BorderBrush="#3F3F46" 
                                                        BorderThickness="1" 
                                                        CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="25" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                              Text="{Binding Albums}" 
                                              TextWrapping="NoWrap" 
                                              FontSize="16" 
                                              Foreground="#E0E0E0" 
                                              VerticalAlignment="Center"
                                              Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                  Visibility="{Binding ElementName=Deezer_Artist_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- SVG Path for the Icon -->
                                <Path Width="40" Height="40" Fill="DarkGray" Stretch="Uniform" 
                                      Data="M2 29c0-.78 1.92-1.7 3.24-2h.11l8-3a1 1 0 0 0 .65-1v-2.69a1 1 0 0 0-.57-.9A6 6 0 0 1 10 14a1 1 0 0 0-1-1v-2a1 1 0 0 0 1-1V8a6 6 0 0 1 12 0v2a1 1 0 0 0 1 1v2h2v-2a2 2 0 0 0-1-1.73V8A8 8 0 0 0 8 8v1.27A2 2 0 0 0 7 11v2a2 2 0 0 0 1 1.75 8.07 8.07 0 0 0 4 6.16v1.39L4.7 25c-.91.23-4.7 1.37-4.7 4v2a1 1 0 0 0 1 1h14v-2H2z 
                                      M26.89 24.47a6 6 0 1 0-1.41 1.41l4.82 4.82 1.41-1.41zM22 25a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"/>
                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Artists" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>

                            <Button Grid.Row="1"
                              Width="120"
                              Height="40"
                              Margin="0,15,10,10"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Bottom"
                              Click="DownloadButton_Click"
                              Content="Download"
                              Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>
                    </TabItem>

                    <TabItem
                        x:Name="Albums_TabItem"
                        Header="Album"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Deezer_Albums_Listbox"
                                  Grid.Row="0"
                                  ItemsSource="{Binding albumsList}"
                                  MouseDoubleClick="Deezer_Albums_Listbox_MouseDoubleClick"
                                  SelectionChanged="Deezer_Albums_Listbox_SelectionChanged"
                                  SelectionMode="Extended"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                          Background="#2D2D30" 
                                                          BorderBrush="#3F3F46" 
                                                          BorderThickness="1" 
                                                          CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="5" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                              Text="{Binding Albums}" 
                                              TextWrapping="NoWrap" 
                                              FontSize="16" 
                                              Foreground="#E0E0E0" 
                                              VerticalAlignment="Center"
                                              Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                  Visibility="{Binding ElementName=Deezer_Albums_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Use ViewBox to maintain aspect ratio and proper scaling -->
                                <Viewbox Width="40" Height="40">
                                    <Canvas Width="24" Height="24">
                                        <!-- Path for the main body of the album music icon -->
                                        <Path Fill="DarkGray" Data="M22.76 7.34C22.32 6.85 23.8 7 2 7a1 1 0 0 0-1 1.14l2 14A1 1 0 0 0 4 23h16a1 1 0 0 0 1-.86C23.15 7 23.18 7.84 22.76 7.34zM19.13 21H4.87L3.15 9h17.7z"/>
                                        <!-- Path for the central record circle -->
                                        <Path Fill="DarkGray" Data="M12 20c3.31 0 6-2.24 6-5s-2.69-5-6-5-6 2.24-6 5 2.69 5 6 5zm0-8c2.21 0 4 1.35 4 3s-1.79 3-4 3-4-1.35-4-3 1.79-3 4-3z"/>
                                        <!-- Path for the small dot and lines -->
                                        <Path Fill="DarkGray" Data="M12 16a1 1 0 0 0 0-2 1 1 0 0 0 0 2zM3 6h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zM5 3h14a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z"/>
                                    </Canvas>
                                </Viewbox>

                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Albums" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>


                            <Button Grid.Row="1"
                              Width="120"
                              Height="40"
                              Margin="0,15,10,10"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Bottom"
                              Click="DownloadButton_Click"
                              Content="Download"
                              Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>
                    </TabItem>

                    <TabItem
                        x:Name="Songs_TabItem"
                        Header="Track"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Deezer_Songs_Listbox"
                                 Grid.Row="0"
                                 ItemsSource="{Binding songsList}"
                                 MouseDoubleClick="SongItem_DoubleClick"
                                 SelectionChanged="Deezer_Songs_Listbox_SelectionChanged"
                                 SelectionMode="Single"
                                 ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                 Background="Transparent"
                                 VirtualizingPanel.IsVirtualizing="True"
                                 VirtualizingPanel.VirtualizationMode="Recycling"
                                 Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                         Background="#2D2D30" 
                                                         BorderBrush="#3F3F46" 
                                                         BorderThickness="1" 
                                                         CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="5" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                                Text="{Binding Albums}" 
                                                TextWrapping="NoWrap" 
                                                FontSize="16" 
                                                Foreground="#E0E0E0" 
                                                VerticalAlignment="Center"
                                                Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                   Visibility="{Binding ElementName=Deezer_Songs_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Use ViewBox to maintain aspect ratio and proper scaling -->
                                <Viewbox Width="40" Height="40">
                                    <Canvas Width="24" Height="24">
                                        <!-- Path for the SVG icon -->
                                        <Path Fill="DarkGray" Data="M23 2a1 1 0 0 0-1.14-1C7.13 3.11 7.16 2.82 7 3.87v11.41C3.28 14-.91 19.41 1.88 22.2c2.36 2.38 7.12-.37 7.12-4V9.87l12-1.72v5.13a4.43 4.43 0 0 0-4.49 1.32c-2.74 2.73-1.51 6.49 1.6 6.49a4.78 4.78 0 0 0 3.38-1.52A4.6 4.6 0 0 0 23 16.2zM4.12 21.09c-1.34.08-1.55-1.72-.2-3.08.76-.75 2.13-1.28 2.79-.63 1.01 1.01-.71 3.71-2.59 3.71zM9 7.85v-3l12-1.7v3zm11.07 10.31c-.8.79-2.13 1.28-2.78.63-1-1 .65-3.7 2.6-3.7 1.51 0 1.39 1.91.18 3.07z"/>
                                    </Canvas>
                                </Viewbox>

                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Tracks" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>


                            <StackPanel Grid.Row="1" 
                                  Orientation="Horizontal" 
                                  HorizontalAlignment="Right" 
                                  Margin="0,15,10,10">
                                <Button Width="120"
                                  Height="40"
                                  Margin="0,0,10,0"
                                  Click="SongsPreview_Click"
                                  Content="Preview"
                                  Style="{StaticResource PreviewFlatActionButton}" />

                                <Button Width="120"
                                  Height="40"
                                  Click="DownloadButton_Click"
                                  Content="Download"
                                  Style="{StaticResource DownloadFlatActionButton}" />
                            </StackPanel>
                        </Grid>
                    </TabItem>

                    <TabItem
                        x:Name="Playlist_TabItem"
                        Header="Playlist"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Deezer_Playlist_Listbox"
                                   Grid.Row="0"
                                   ItemsSource="{Binding playlistList}"
                                   SelectionChanged="Deezer_Playlist_Listbox_SelectionChanged"
                                   SelectionMode="Single"
                                   ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                   Background="Transparent"
                                   VirtualizingPanel.IsVirtualizing="True"
                                   VirtualizingPanel.VirtualizationMode="Recycling"
                                   Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                       Background="#2D2D30" 
                                                       BorderBrush="#3F3F46" 
                                                       BorderThickness="1" 
                                                       CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="5" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                              Text="{Binding Albums}" 
                                              TextWrapping="NoWrap" 
                                              FontSize="16" 
                                              Foreground="#E0E0E0" 
                                              VerticalAlignment="Center"
                                              Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                   Visibility="{Binding ElementName=Deezer_Playlist_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Use ViewBox to maintain aspect ratio and proper scaling -->
                                <Viewbox Width="40" Height="40">
                                    <Canvas Width="32" Height="32">
                                        <!-- Path for the main body of the list icon -->
                                        <Path Fill="DarkGray" Data="M25 0H7a7 7 0 0 0-7 7v18a7 7 0 0 0 7 7h18a7 7 0 0 0 7-7V7a7 7 0 0 0-7-7zm5 25a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5h18a5 5 0 0 1 5 5z"/>

                                        <!-- Path for the lines -->
                                        <Path Fill="DarkGray" Data="M13 8h12v2H13zM13 15h12v2H13zM13 22h12v2H13z"/>

                                        <!-- Circles representing the bullets in the list -->
                                        <Ellipse Fill="DarkGray" Width="4" Height="4" Canvas.Left="7" Canvas.Top="7"/>
                                        <Ellipse Fill="DarkGray" Width="4" Height="4" Canvas.Left="7" Canvas.Top="14"/>
                                        <Ellipse Fill="DarkGray" Width="4" Height="4" Canvas.Left="7" Canvas.Top="21"/>
                                    </Canvas>
                                </Viewbox>

                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Playlists" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>


                            <Button Grid.Row="1"
                             Width="120"
                             Height="40"
                             Margin="0,15,10,10"
                             HorizontalAlignment="Right"
                             VerticalAlignment="Bottom"
                             Click="DownloadButton_Click"
                             Content="Download"
                             Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>
                    </TabItem>
                    <TabItem
                        x:Name="Deezer_Featured_TabItem"
                        Header="Featured"
                        Style="{StaticResource styleTabItemDefault}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <ComboBox
                                    x:Name="DeezerContainerSelectionComboBox"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Center"
                                    Foreground="White"
                                    SelectedIndex="0"
                                    SelectionChanged="DeezerContainerComboBox_SelectionChanged"
                                    Style="{StaticResource ComboBoxStyle1}">
                                    <ComboBoxItem Content="None" />
                                    <ComboBoxItem Content="Reggaeton" />
                                    <ComboBoxItem Content="Pop" />
                                    <ComboBoxItem Content="Rock" />
                                    <ComboBoxItem Content="Rap/Hip Hop" />
                                    <ComboBoxItem Content="Dance" />
                                    <ComboBoxItem Content="RNB" />
                                    <ComboBoxItem Content="Alternative" />
                                    <ComboBoxItem Content="Christian" />
                                    <ComboBoxItem Content="Electro" />
                                    <ComboBoxItem Content="Reggae" />
                                    <ComboBoxItem Content="Salsa" />
                                </ComboBox>
                                <ItemsControl x:Name="Deezer_Featured_SectionsControl">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Margin="10">
                                                <!--<TextBlock
                                                    Margin="0,5,0,5"
                                                    FontSize="16"
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Text="{Binding SectionName}" />-->
                                                <ItemsControl ItemsPanel="{StaticResource AlbumsPanelTemplate}" ItemsSource="{Binding Albums}">
                                                    <ItemsControl.Resources>
                                                        <Style x:Key="ModernButton" TargetType="Button">
                                                            <Setter Property="Background" Value="Transparent"/>
                                                            <Setter Property="Foreground" Value="#4CAF50"/>
                                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                                            <Setter Property="BorderThickness" Value="1"/>
                                                            <Setter Property="Padding" Value="10,5"/>
                                                            <Setter Property="FontWeight" Value="Bold"/>
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border Background="{TemplateBinding Background}"
                                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                                            CornerRadius="15">
                                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#4CAF50"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                        <Style x:Key="ModernToolTip" TargetType="ToolTip">
                                                            <Setter Property="Background" Value="#333333"/>
                                                            <Setter Property="Foreground" Value="White"/>
                                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                                            <Setter Property="BorderThickness" Value="1"/>
                                                            <Setter Property="Padding" Value="10"/>
                                                            <Setter Property="FontFamily" Value="Segoe UI"/>
                                                            <Setter Property="FontSize" Value="12"/>
                                                            <Setter Property="HasDropShadow" Value="True"/>
                                                        </Style>
                                                    </ItemsControl.Resources>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border x:Name="MainBorder" 
                                                              Margin="10" 
                                                              CornerRadius="10"
                                                              Background="#1E1E1E"
                                                              BorderBrush="#333333"
                                                              BorderThickness="1"
                                                              Width="180"
                                                              Height="260">
                                                                <Border.Effect>
                                                                    <DropShadowEffect ShadowDepth="5" Direction="315" Color="Black" Opacity="0.5" BlurRadius="10"/>
                                                                </Border.Effect>
                                                                <Border.RenderTransform>
                                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                                </Border.RenderTransform>
                                                                <Border.ToolTip>
                                                                    <ToolTip Style="{StaticResource ModernToolTip}">
                                                                        <TextBlock Text="{Binding Title}" TextWrapping="Wrap"/>
                                                                    </ToolTip>
                                                                </Border.ToolTip>
                                                                <Grid>
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="*"/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>

                                                                    <Border Grid.Row="0" 
                                                                          Margin="10,10,10,5"
                                                                          CornerRadius="8"
                                                                          Width="160" 
                                                                          Height="160">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect ShadowDepth="3" Direction="315" Color="Black" Opacity="0.6" BlurRadius="5"/>
                                                                        </Border.Effect>
                                                                        <Image Source="{Binding Cover}" Stretch="UniformToFill"/>
                                                                    </Border>

                                                                    <TextBlock Grid.Row="1" 
                                                                      Text="{Binding Title}" 
                                                                      Foreground="#E0E0E0"
                                                                      FontFamily="Segoe UI"
                                                                      FontSize="14"
                                                                      FontWeight="SemiBold"
                                                                      TextAlignment="Center"
                                                                      TextTrimming="CharacterEllipsis"
                                                                      TextWrapping="Wrap"
                                                                      Margin="10,5,10,5"
                                                                      VerticalAlignment="Center"/>

                                                                    <Button Grid.Row="2" 
                                                                     Content="Download" 
                                                                     Click="DeezerDownloadButton_Click"
                                                                     Tag="{Binding}"
                                                                     Width="140"
                                                                     Height="30"
                                                                     Margin="0,5,0,10"
                                                                     Style="{StaticResource ModernButton}"/>
                                                                </Grid>
                                                            </Border>
                                                            <DataTemplate.Triggers>
                                                                <EventTrigger RoutedEvent="Mouse.MouseEnter">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                                              Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                                              To="1.05" Duration="0:0:0.2"/>
                                                                                                                 <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                                              Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                                              To="1.05" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                                <EventTrigger RoutedEvent="Mouse.MouseLeave">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                                              Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                                              To="1" Duration="0:0:0.2"/>
                                                                                                                 <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                                              Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                                              To="1" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                    <TabItem
                        x:Name="Deezer_Chart_TabItem"
                        Header="Chart"
                        Style="{StaticResource styleTabItemDefault}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <ComboBox
                                    x:Name="DeezerChartContainerSelectionComboBox"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Center"
                                    Foreground="White"
                                    SelectedIndex="0"
                                    SelectionChanged="DeezerChartContainerComboBox_SelectionChanged"
                                    Style="{StaticResource ComboBoxStyle1}">
                                    <ComboBoxItem Content="None" />
                                    <ComboBoxItem Content="Reggaeton" />
                                    <ComboBoxItem Content="Pop" />
                                    <ComboBoxItem Content="Rock" />
                                    <ComboBoxItem Content="Rap/Hip Hop" />
                                    <ComboBoxItem Content="Dance" />
                                    <ComboBoxItem Content="RNB" />
                                    <ComboBoxItem Content="Alternative" />
                                    <ComboBoxItem Content="Christian" />
                                    <ComboBoxItem Content="Electro" />
                                    <ComboBoxItem Content="Reggae" />
                                    <ComboBoxItem Content="Salsa" />
                                </ComboBox>
                                <ItemsControl x:Name="Deezer_Chart_SectionsControl">
                                    <ItemsControl.Resources>
                                        <Style x:Key="ModernButton" TargetType="Button">
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="Foreground" Value="#4CAF50"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10,5"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border Background="{TemplateBinding Background}"
                                                             BorderBrush="{TemplateBinding BorderBrush}"
                                                             BorderThickness="{TemplateBinding BorderThickness}"
                                                             CornerRadius="15">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#4CAF50"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                        <Style x:Key="ModernToolTip" TargetType="ToolTip">
                                            <Setter Property="Background" Value="#333333"/>
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10"/>
                                            <Setter Property="FontFamily" Value="Segoe UI"/>
                                            <Setter Property="FontSize" Value="12"/>
                                            <Setter Property="HasDropShadow" Value="True"/>
                                        </Style>
                                    </ItemsControl.Resources>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Margin="10">
                                                <ItemsControl ItemsPanel="{StaticResource AlbumsPanelTemplate}" ItemsSource="{Binding Albums}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border x:Name="MainBorder" 
                                                              Margin="10" 
                                                              CornerRadius="10"
                                                              Background="#1E1E1E"
                                                              BorderBrush="#333333"
                                                              BorderThickness="1"
                                                              Width="180"
                                                              Height="260">
                                                                <Border.Effect>
                                                                    <DropShadowEffect ShadowDepth="5" Direction="315" Color="Black" Opacity="0.5" BlurRadius="10"/>
                                                                </Border.Effect>
                                                                <Border.RenderTransform>
                                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                                </Border.RenderTransform>
                                                                <Border.ToolTip>
                                                                    <ToolTip Style="{StaticResource ModernToolTip}">
                                                                        <TextBlock Text="{Binding Title}" TextWrapping="Wrap"/>
                                                                    </ToolTip>
                                                                </Border.ToolTip>
                                                                <Grid>
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="*"/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>

                                                                    <Border Grid.Row="0" 
                                                                       Margin="10,10,10,5"
                                                                       CornerRadius="8"
                                                                       Width="160" 
                                                                       Height="160">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect ShadowDepth="3" Direction="315" Color="Black" Opacity="0.6" BlurRadius="5"/>
                                                                        </Border.Effect>
                                                                        <Image Source="{Binding Cover}" Stretch="UniformToFill"/>
                                                                    </Border>

                                                                    <TextBlock Grid.Row="1" 
                                                                      Text="{Binding Title}" 
                                                                      Foreground="#E0E0E0"
                                                                      FontFamily="Segoe UI"
                                                                      FontSize="14"
                                                                      FontWeight="SemiBold"
                                                                      TextAlignment="Center"
                                                                      TextTrimming="CharacterEllipsis"
                                                                      TextWrapping="Wrap"
                                                                      Margin="10,5,10,5"
                                                                      VerticalAlignment="Center"/>

                                                                    <Button Grid.Row="2" 
                                                                      Content="Download" 
                                                                      Click="DeezerChartDownloadButton_Click"
                                                                      Tag="{Binding}"
                                                                      Width="140"
                                                                      Height="30"
                                                                      Margin="0,5,0,10"
                                                                      Style="{StaticResource ModernButton}"/>
                                                                </Grid>
                                                            </Border>
                                                            <DataTemplate.Triggers>
                                                                <EventTrigger RoutedEvent="Mouse.MouseEnter">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                                <EventTrigger RoutedEvent="Mouse.MouseLeave">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                </TabControl>
            </TabItem>

            <!--  Qobuz Tab  -->
            <TabItem
                x:Name="Qobuz_TabItem"
                Header="Qobuz"
                Style="{StaticResource styleTabItemDefault}">
                <TabControl
                    x:Name="QobuzTabTabControl"
                    Background="Black"
                    SelectionChanged="QobuzTabTabControl_SelectionChanged"
                    Style="{StaticResource substyleTabControlDefault}">
                    <TabItem
                        x:Name="Qobuz_Artist_TabItem"
                        Header="Artists"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Qobuz_Artist_Listbox"
                                  Grid.Row="0"
                                  ItemsSource="{Binding Qobuz_Artist_List}"
                                  MouseDoubleClick="Qobuz_Artist_Listbox_MouseDoubleClick"
                                  SelectionChanged="Qobuz_Artist_Listbox_SelectionChanged"
                                  SelectionMode="Single"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                          Background="#2D2D30" 
                                                          BorderBrush="#3F3F46" 
                                                          BorderThickness="1" 
                                                          CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="25" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                              Text="{Binding Albums}" 
                                              TextWrapping="NoWrap" 
                                              FontSize="16" 
                                              Foreground="#E0E0E0" 
                                              VerticalAlignment="Center"
                                              Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                  Visibility="{Binding ElementName=Qobuz_Artist_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- SVG Path for the Icon -->
                                <Path Width="40" Height="40" Fill="DarkGray" Stretch="Uniform" 
                                      Data="M2 29c0-.78 1.92-1.7 3.24-2h.11l8-3a1 1 0 0 0 .65-1v-2.69a1 1 0 0 0-.57-.9A6 6 0 0 1 10 14a1 1 0 0 0-1-1v-2a1 1 0 0 0 1-1V8a6 6 0 0 1 12 0v2a1 1 0 0 0 1 1v2h2v-2a2 2 0 0 0-1-1.73V8A8 8 0 0 0 8 8v1.27A2 2 0 0 0 7 11v2a2 2 0 0 0 1 1.75 8.07 8.07 0 0 0 4 6.16v1.39L4.7 25c-.91.23-4.7 1.37-4.7 4v2a1 1 0 0 0 1 1h14v-2H2z 
                                      M26.89 24.47a6 6 0 1 0-1.41 1.41l4.82 4.82 1.41-1.41zM22 25a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"/>
                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Artists" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>


                            <Button Grid.Row="1"
                              Width="120"
                              Height="40"
                              Margin="0,15,10,10"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Bottom"
                              Click="DownloadButton_Click"
                              Content="Download"
                              Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>
                    </TabItem>

                    <TabItem
                        x:Name="Qobuz_Albums_TabItem"
                        Header="Album"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox x:Name="Qobuz_Albums_Listbox"
                                  Grid.Row="0"
                                  ItemsSource="{Binding Qobuz_Albums_List}"
                                  MouseDoubleClick="Qobuz_Albums_Listbox_MouseDoubleClick"
                                  SelectionChanged="Qobuz_Albums_Listbox_SelectionChanged"
                                  SelectionMode="Extended"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                          Background="#2D2D30" 
                                                          BorderBrush="#3F3F46" 
                                                          BorderThickness="1" 
                                                          CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="5" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                              Text="{Binding Albums}" 
                                              TextWrapping="NoWrap" 
                                              FontSize="16" 
                                              Foreground="#E0E0E0" 
                                              VerticalAlignment="Center"
                                              Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                  Visibility="{Binding ElementName=Qobuz_Albums_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Use ViewBox to maintain aspect ratio and proper scaling -->
                                <Viewbox Width="40" Height="40">
                                    <Canvas Width="24" Height="24">
                                        <!-- Path for the main body of the album music icon -->
                                        <Path Fill="DarkGray" Data="M22.76 7.34C22.32 6.85 23.8 7 2 7a1 1 0 0 0-1 1.14l2 14A1 1 0 0 0 4 23h16a1 1 0 0 0 1-.86C23.15 7 23.18 7.84 22.76 7.34zM19.13 21H4.87L3.15 9h17.7z"/>
                                        <!-- Path for the central record circle -->
                                        <Path Fill="DarkGray" Data="M12 20c3.31 0 6-2.24 6-5s-2.69-5-6-5-6 2.24-6 5 2.69 5 6 5zm0-8c2.21 0 4 1.35 4 3s-1.79 3-4 3-4-1.35-4-3 1.79-3 4-3z"/>
                                        <!-- Path for the small dot and lines -->
                                        <Path Fill="DarkGray" Data="M12 16a1 1 0 0 0 0-2 1 1 0 0 0 0 2zM3 6h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zM5 3h14a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z"/>
                                    </Canvas>
                                </Viewbox>

                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Albums" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>

                            <Button Grid.Row="1"
                             Width="120"
                             Height="40"
                             Margin="0,15,10,10"
                             HorizontalAlignment="Right"
                             VerticalAlignment="Bottom"
                             Click="DownloadButton_Click"
                             Content="Download"
                             Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>
                    </TabItem>
                    <TabItem
                        x:Name="Qobuz_Songs_TabItem"
                        Header="Track"
                        Style="{StaticResource styleTabItemDefault}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <ListBox
                                  x:Name="Qobuz_Songs_Listbox"
                                  Grid.Row="0"
                                  ItemsSource="{Binding Qobuz_Songs_List}"        
                                  SelectionChanged="Qobuz_Songs_Listbox_SelectionChanged"
                                  SelectionMode="Extended"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                  Background="Transparent"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  Style="{StaticResource styleListBoxDefault}">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource styleListBoxItem}">
                                        <Setter Property="Margin" Value="5,5,5,0"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource DownloadContextMenu}" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Border" 
                                                          Background="#2D2D30" 
                                                          BorderBrush="#3F3F46" 
                                                          BorderThickness="1" 
                                                          CornerRadius="10">
                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFEDEDED"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Width="50" Height="50" CornerRadius="5" Margin="10,5">
                                                <Border.Background>
                                                    <ImageBrush ImageSource="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                </Border.Background>
                                            </Border>
                                            <TextBlock Grid.Column="1" 
                                               Text="{Binding Albums}" 
                                               TextWrapping="NoWrap" 
                                               FontSize="16" 
                                               Foreground="#E0E0E0" 
                                               VerticalAlignment="Center"
                                               Margin="15,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center"
                                   Visibility="{Binding ElementName=Qobuz_Songs_Listbox, Path=Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Use ViewBox to maintain aspect ratio and proper scaling -->
                                <Viewbox Width="40" Height="40">
                                    <Canvas Width="24" Height="24">
                                        <!-- Path for the SVG icon -->
                                        <Path Fill="DarkGray" Data="M23 2a1 1 0 0 0-1.14-1C7.13 3.11 7.16 2.82 7 3.87v11.41C3.28 14-.91 19.41 1.88 22.2c2.36 2.38 7.12-.37 7.12-4V9.87l12-1.72v5.13a4.43 4.43 0 0 0-4.49 1.32c-2.74 2.73-1.51 6.49 1.6 6.49a4.78 4.78 0 0 0 3.38-1.52A4.6 4.6 0 0 0 23 16.2zM4.12 21.09c-1.34.08-1.55-1.72-.2-3.08.76-.75 2.13-1.28 2.79-.63 1.01 1.01-.71 3.71-2.59 3.71zM9 7.85v-3l12-1.7v3zm11.07 10.31c-.8.79-2.13 1.28-2.78.63-1-1 .65-3.7 2.6-3.7 1.51 0 1.39 1.91.18 3.07z"/>
                                    </Canvas>
                                </Viewbox>

                                <!-- Text Displaying "No items to display" -->
                                <TextBlock Grid.Row="1" Text="Search for Tracks" Foreground="Gray" FontSize="20" Margin="0,10,0,0"/>
                            </Grid>

                            <Button
                             Grid.Row="1"
                             Width="120"
                             Height="40"
                             Margin="0,15,10,10"
                             HorizontalAlignment="Right"
                             VerticalAlignment="Bottom"
                             Click="DownloadButton_Click"
                             Content="Download"
                             Style="{StaticResource DownloadFlatActionButton}" />
                        </Grid>

                    </TabItem>
                    <TabItem
                        x:Name="Qobuz_Featured_TabItem"
                        Header="Featured"
                        Style="{StaticResource styleTabItemDefault}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>

                                <ComboBox
                                    x:Name="ContainerSelectionComboBox"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Center"
                                    Foreground="White"
                                    SelectedIndex="0"
                                    SelectionChanged="ContainerSelectionComboBox_SelectionChanged"
                                    Style="{StaticResource ComboBoxStyle1}">
                                    <ComboBoxItem Content="None" />
                                    <ComboBoxItem Content="New Releases" />
                                    <ComboBoxItem Content="Recent Releases" />
                                    <ComboBoxItem Content="Press Awards" />
                                    <ComboBoxItem Content="Album Charts" />
                                    <ComboBoxItem Content="Album Of The Week" />
                                    <ComboBoxItem Content="Re Release Of The Week" />
                                </ComboBox>
                                <ItemsControl x:Name="Qobuz_Featured_SectionsControl">
                                    <ItemsControl.Resources>
                                        <Style x:Key="ModernButton" TargetType="Button">
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="Foreground" Value="#4CAF50"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10,5"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="15">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#4CAF50"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                        <Style x:Key="ModernToolTip" TargetType="ToolTip">
                                            <Setter Property="Background" Value="#333333"/>
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10"/>
                                            <Setter Property="FontFamily" Value="Segoe UI"/>
                                            <Setter Property="FontSize" Value="12"/>
                                            <Setter Property="HasDropShadow" Value="True"/>
                                        </Style>
                                    </ItemsControl.Resources>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Margin="10">
                                                <ItemsControl ItemsPanel="{StaticResource AlbumsPanelTemplate}" ItemsSource="{Binding Albums}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border x:Name="MainBorder" 
                                Margin="10" 
                                CornerRadius="10"
                                Background="#1E1E1E"
                                BorderBrush="#333333"
                                BorderThickness="1"
                                Width="180"
                                Height="260">
                                                                <Border.Effect>
                                                                    <DropShadowEffect ShadowDepth="5" Direction="315" Color="Black" Opacity="0.5" BlurRadius="10"/>
                                                                </Border.Effect>
                                                                <Border.RenderTransform>
                                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                                </Border.RenderTransform>
                                                                <Border.ToolTip>
                                                                    <ToolTip Style="{StaticResource ModernToolTip}">
                                                                        <TextBlock Text="{Binding Qposterlabel}" TextWrapping="Wrap"/>
                                                                    </ToolTip>
                                                                </Border.ToolTip>
                                                                <Grid>
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="*"/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>

                                                                    <Border Grid.Row="0" 
                                        Margin="10,10,10,5"
                                        CornerRadius="8"
                                        Width="160" 
                                        Height="160">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect ShadowDepth="3" Direction="315" Color="Black" Opacity="0.6" BlurRadius="5"/>
                                                                        </Border.Effect>
                                                                        <Image Source="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                                    </Border>

                                                                    <TextBlock Grid.Row="1" 
                                           Text="{Binding Qposterlabel}" 
                                           Foreground="#E0E0E0"
                                           FontFamily="Segoe UI"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           TextAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           TextWrapping="Wrap"
                                           Margin="10,5,10,5"
                                           VerticalAlignment="Center"/>

                                                                    <Button Grid.Row="2" 
                                        Content="Download" 
                                        Click="DownloadButton_Click"
                                        Tag="{Binding}"
                                        Width="140"
                                        Height="30"
                                        Margin="0,5,0,10"
                                        Style="{StaticResource ModernButton}"/>
                                                                </Grid>
                                                            </Border>
                                                            <DataTemplate.Triggers>
                                                                <EventTrigger RoutedEvent="Mouse.MouseEnter">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                                <EventTrigger RoutedEvent="Mouse.MouseLeave">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                    <TabItem
                        x:Name="Qobuz_Genre_TabItem"
                        Header="Genre"
                        Style="{StaticResource styleTabItemDefault}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <ComboBox
                                    x:Name="GenreSelectionComboBox"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Center"
                                    Foreground="White"
                                    SelectedIndex="0"
                                    SelectionChanged="GenreSelectionComboBox_SelectionChanged"
                                    Style="{StaticResource ComboBoxStyle1}">
                                    <ComboBoxItem Content="None" />
                                    <ComboBoxItem Content="Rap" />
                                    <ComboBoxItem Content="Pop" />
                                    <ComboBoxItem Content="Latin" />
                                    <ComboBoxItem Content="Electro" />
                                    <ComboBoxItem Content="Classical" />
                                    <ComboBoxItem Content="RNB" />
                                    <ComboBoxItem Content="World" />
                                    <ComboBoxItem Content="Comedy" />
                                </ComboBox>
                                <ItemsControl x:Name="Qobuz_Genre_SectionsControl">
                                    <ItemsControl.Resources>
                                        <Style x:Key="ModernButton" TargetType="Button">
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="Foreground" Value="#4CAF50"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10,5"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="15">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#4CAF50"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                        <Style x:Key="ModernToolTip" TargetType="ToolTip">
                                            <Setter Property="Background" Value="#333333"/>
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="BorderBrush" Value="#4CAF50"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Padding" Value="10"/>
                                            <Setter Property="FontFamily" Value="Segoe UI"/>
                                            <Setter Property="FontSize" Value="12"/>
                                            <Setter Property="HasDropShadow" Value="True"/>
                                        </Style>
                                    </ItemsControl.Resources>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Margin="10">
                                                <ItemsControl ItemsPanel="{StaticResource AlbumsPanelTemplate}" ItemsSource="{Binding Albums}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border x:Name="MainBorder" 
                                Margin="10" 
                                CornerRadius="10"
                                Background="#1E1E1E"
                                BorderBrush="#333333"
                                BorderThickness="1"
                                Width="180"
                                Height="260">
                                                                <Border.Effect>
                                                                    <DropShadowEffect ShadowDepth="5" Direction="315" Color="Black" Opacity="0.5" BlurRadius="10"/>
                                                                </Border.Effect>
                                                                <Border.RenderTransform>
                                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                                </Border.RenderTransform>
                                                                <Border.ToolTip>
                                                                    <ToolTip Style="{StaticResource ModernToolTip}">
                                                                        <TextBlock Text="{Binding Qposterlabel}" TextWrapping="Wrap"/>
                                                                    </ToolTip>
                                                                </Border.ToolTip>
                                                                <Grid>
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="*"/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>

                                                                    <Border Grid.Row="0" 
                                        Margin="10,10,10,5"
                                        CornerRadius="8"
                                        Width="160" 
                                        Height="160">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect ShadowDepth="3" Direction="315" Color="Black" Opacity="0.6" BlurRadius="5"/>
                                                                        </Border.Effect>
                                                                        <Image Source="{Binding QobuzPoster}" Stretch="UniformToFill"/>
                                                                    </Border>

                                                                    <TextBlock Grid.Row="1" 
                                           Text="{Binding Qposterlabel}" 
                                           Foreground="#E0E0E0"
                                           FontFamily="Segoe UI"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           TextAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           TextWrapping="Wrap"
                                           Margin="10,5,10,5"
                                           VerticalAlignment="Center"/>

                                                                    <Button Grid.Row="2" 
                                        Content="Download" 
                                        Click="DownloadButton_Click"
                                        Tag="{Binding}"
                                        Width="140"
                                        Height="30"
                                        Margin="0,5,0,10"
                                        Style="{StaticResource ModernButton}"/>
                                                                </Grid>
                                                            </Border>
                                                            <DataTemplate.Triggers>
                                                                <EventTrigger RoutedEvent="Mouse.MouseEnter">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1.05" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                                <EventTrigger RoutedEvent="Mouse.MouseLeave">
                                                                    <BeginStoryboard>
                                                                        <Storyboard>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                            <DoubleAnimation Storyboard.TargetName="MainBorder" 
                                                         Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" 
                                                         To="1" Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                </TabControl>
            </TabItem>
            <TabItem Style="{StaticResource styleTabItemDefault}">
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Margin="0,0,5,0" Text="Downloads" />
                        <Border
                            x:Name="DownloadBadge"
                            Width="15"
                            Height="15"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Background="Red"
                            CornerRadius="10"
                            Visibility="Collapsed">
                            <TextBlock
                                x:Name="DownloadBadgeCount"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontWeight="Bold"
                                Foreground="White"
                                Text="0" Margin="0.5,0.5,1.5,0" />
                        </Border>
                    </StackPanel>
                </TabItem.Header>
                <local:DownloadManagerControl x:Name="downloadManagerControl" />
            </TabItem>
        </TabControl>
        <Grid
            Grid.Column="1"
            Margin="55,35,55,25"
            VerticalAlignment="Top" Height="40">
            <Border
                x:Name="GenreLabelBorder"
                Margin="0,0,20,0"
                Padding="10,5"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#FF333333"
                BorderBrush="White"
                BorderThickness="1"
                CornerRadius="5"
                Visibility="Collapsed">
                <TextBlock
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="GENRE"
                    TextAlignment="Center"
                    TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect
                                        BlurRadius="4"
                                        Direction="320"
                                        Opacity="0.5"
                                        ShadowDepth="3"
                                        Color="#888888" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Border>
            <Border
                x:Name="FeaturedLabelBorder"
                Margin="0,0,20,0"
                Padding="10,5"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#FF333333"
                BorderBrush="White"
                BorderThickness="1"
                CornerRadius="5"
                Visibility="Collapsed">
                <TextBlock
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="FEATURED"
                    TextAlignment="Center"
                    TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect
                                        BlurRadius="4"
                                        Direction="320"
                                        Opacity="0.5"
                                        ShadowDepth="3"
                                        Color="#888888" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Border>
            <Border
                x:Name="DeezerFeaturedLabelBorder"
                Margin="0,0,20,0"
                Padding="10,5"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#FF333333"
                BorderBrush="White"
                BorderThickness="1"
                CornerRadius="5"
                Visibility="Collapsed">
                <TextBlock
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="FEATURED"
                    TextAlignment="Center"
                    TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect
                                        BlurRadius="4"
                                        Direction="320"
                                        Opacity="0.5"
                                        ShadowDepth="3"
                                        Color="#888888" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Border>
            <Border
                x:Name="ChartLabelBorder"
                Margin="0,0,20,0"
                Padding="10,5"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#FF333333"
                BorderBrush="White"
                BorderThickness="1"
                CornerRadius="5"
                Visibility="Collapsed">
                <TextBlock
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="CHART"
                    TextAlignment="Center"
                    TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect
                                        BlurRadius="4"
                                        Direction="320"
                                        Opacity="0.5"
                                        ShadowDepth="3"
                                        Color="#888888" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Border>
            <TextBox
                x:Name="Search_Box"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                VerticalContentAlignment="Center"
                Foreground="Gray"
                GotFocus="Search_Box_GotFocus"
                KeyDown="txt1_KeyDown"
                LostFocus="Search_Box_LostFocus"
                Style="{StaticResource ModernFlatTextBox}"
                Text="Enter Title\Album\Track Or Url..."
                TextAlignment="Left" Padding="30,5,35,5" />
            <CheckBox
                x:Name="UrlCheckBox"
                Width="25"
                Height="25"
                Margin="5,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Background="{x:Null}"
                Checked="UrlCheckBox_Checked"
                Unchecked="UrlCheckBox_Unchecked">
                <CheckBox.Template>
                    <ControlTemplate TargetType="CheckBox">
                        <Border
                            x:Name="IconBorder"
                            Width="25"
                            Height="25"
                            Background="{x:Null}"
                            CornerRadius="10">
                           
                            <Image
                                Width="25"
                                Height="25"
                                Source="/URL.png" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="IconBorder" Property="Background" Value="LightGray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </CheckBox.Template>
            </CheckBox>
            <Button
            x:Name="Search"
            Width="40"
            Height="40"
            HorizontalAlignment="Right"
            Background="Transparent"
            Click="Search_Click"
            Foreground="Black"
            Style="{StaticResource ModernSearchButtonStyle}">
                <Path Data="M10.5 0C4.70101 0 0 4.70101 0 10.5C0 16.299 4.70101 21 10.5 21C12.819 21 14.9465 20.3208 16.6575 19.1162L21.6426 24.1012C22.1275 24.5861 22.8784 24.5861 23.3633 24.1012L24.1012 23.3633C24.5861 22.8784 24.5861 22.1275 24.1012 21.6426L19.1162 16.6575C20.3208 14.9465 21 12.819 21 10.5C21 4.70101 16.299 0 10.5 0ZM10.5 18C6.35787 18 3 14.6421 3 10.5C3 6.35787 6.35787 3 10.5 3C14.6421 3 18 6.35787 18 10.5C18 14.6421 14.6421 18 10.5 18Z" Fill="Black" Width="25" Height="25" />
            </Button>
        </Grid>
    </Grid>
</Window>